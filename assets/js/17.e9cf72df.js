(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{428:function(s,t,a){"use strict";a.r(t);var e=a(0),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("作者：绯影")])]),s._v(" "),t("h4",{attrs:{id:"_1-stylelint-config-standard-scss-能够只针对-scss"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-stylelint-config-standard-scss-能够只针对-scss"}},[s._v("#")]),s._v(" 1. stylelint-config-standard-scss 能够只针对 scss，")]),s._v(" "),t("p",[s._v("是因为 rules 前面都是以 scss 开头的，例如")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scss/at-else-closing-brace-newline-after"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"always-last-in-chain"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scss/at-else-closing-brace-space-after"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"always-intermediate"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scss/at-else-empty-line-before"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"never"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("less 也是如此，less 的规则是 "),t("code",[s._v("less/xxxx")])]),s._v(" "),t("p",[s._v("这是 stylelint 插件的规则")]),s._v(" "),t("h4",{attrs:{id:"_2-理解-customsyntax-与-extends"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-理解-customsyntax-与-extends"}},[s._v("#")]),s._v(" 2. 理解 customSyntax 与 extends")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("overrides")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("files")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'**/*.(less|css)'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("customSyntax")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-less'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])]),t("p",[s._v("将用 postcss-less 去解析代码。如果解析不成功将会报错。而 extends stylelint-config-standard-scss 则是去匹配规则，这些规则是由 stylelint-scss 去定义的")]),s._v(" "),t("h4",{attrs:{id:"_3-postcss-less、postcss-scss-做的事情"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-postcss-less、postcss-scss-做的事情"}},[s._v("#")]),s._v(" 3. postcss-less、postcss-scss 做的事情")]),s._v(" "),t("p",[s._v("将 SCSS 或 LESS 语法解析成可以在 AST 上进行处理的格式，而最终的样式处理和转换工作则是由后续的 PostCSS 插件完成的。（现在 postcss 通常不处理 scss、less，只处理 scss、less 转换后的结果。因为 postcss-less-engine、postcss-less、postcss-sass 不再维护）")]),s._v(" "),t("h4",{attrs:{id:"_4-stylelint-保存格式化生效的来源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-stylelint-保存格式化生效的来源"}},[s._v("#")]),s._v(" 4. stylelint 保存格式化生效的来源")]),s._v(" "),t("p",[s._v("格式化的规则将按照 .stylelintrc.js 里面的设置")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"editor.codeActionsOnSave"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"source.fixAll.stylelint"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])]),t("h4",{attrs:{id:"_5-stylelint-config-recommended-vue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-stylelint-config-recommended-vue"}},[s._v("#")]),s._v(" 5. stylelint-config-recommended-vue")]),s._v(" "),t("ol",[t("li",[s._v("使用时，"),t("code",[s._v("<style>")]),s._v("里面的 "),t("code",[s._v(".xxx")]),s._v(" 会报错，所以最好不好使用，对 "),t("code",[s._v("stylelint-config-recommended")]),s._v(" 进行扩展，捆绑 "),t("code",[s._v("postss-html")]),s._v(" 自定义语法并对其进行配置，那么 "),t("code",[s._v("overrides")]),s._v(" 里面的 "),t("code",[s._v("postcss-html")]),s._v(" 就只需要设置 "),t("code",[s._v("html")]),s._v(" 文件")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("overrides")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 扫描 html文案件中的<style>标签内的样式")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("files")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'**/*.(html)'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("customSyntax")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-html'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("如果没有使用 "),t("code",[s._v("stylelint-config-recommended-vue")]),s._v("，那么 "),t("code",[s._v("overrides")]),s._v(" 的 "),t("code",[s._v("postcss-html")]),s._v(" 就要同时对 "),t("code",[s._v("html")]),s._v("、"),t("code",[s._v("vue")]),s._v(" 进行设置")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("overrides")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 扫描 html文案件中的<style>标签内的样式")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("files")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'**/*.(html|vue)'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("customSyntax")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-html'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])]),t("h4",{attrs:{id:"_6-stylelint-config-prettier"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-stylelint-config-prettier"}},[s._v("#")]),s._v(" 6. stylelint-config-prettier")]),s._v(" "),t("p",[s._v("关闭所有不必要的或可能与 "),t("code",[s._v("Prettier")]),s._v(" 冲突的规则。这可以让你使用你最喜欢的可共享配置，而不会让它的风格选择妨碍你使用 "),t("code",[s._v("Prettier")]),s._v("。")]),s._v(" "),t("h4",{attrs:{id:"_7-使用时的一些报错的情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-使用时的一些报错的情况"}},[s._v("#")]),s._v(" 7. 使用时的一些报错的情况")]),s._v(" "),t("ol",[t("li",[s._v("如果 "),t("code",[s._v("vue")]),s._v(" 的"),t("code",[s._v("style")]),s._v(" 里面使用 "),t("code",[s._v("scss")]),s._v("，报 "),t("code",[s._v("TypeError: opts.node.rangeBy is not a function")]),s._v(" ，此时安装 "),t("code",[s._v("postcss-scss")]),s._v(" 依赖")])])])}),[],!1,null,null,null);t.default=n.exports}}]);